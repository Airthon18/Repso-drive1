<main class="m-8">
  <h1 class="text-3xl font-semibold">Gestión de usuarios</h1>
  <!-- Filtros y búsqueda -->
  <div class="flex justify-between items-center my-6">
    <div class="flex gap-4">
      <select class="border border-blue-50 rounded px-3 py-1 focus:ring-2 focus:ring-blue-400"
      [(ngModel)]="filtroCargo" (change)="onFiltroCargoChange($event)">
        <option>Todos los cargos</option>
        <option>Admin</option>
        <option>Usuario</option>
      </select>
      <select class="border border-blue-50 rounded px-3 py-1 focus:ring-2 focus:ring-blue-400"
      [(ngModel)]="filtroEstado" (change)="onFiltroEstadoChange($event)">
        <option>Activos</option>
        <option>Inactivos</option>
      </select>
    </div>
    <div class="flex gap-3 items-center">
      <button command="show-modal" commandfor="crearUsuario" class="bg-[#1b8b20] hover:bg-green-700 text-white rounded-lg px-3 py-1 text-lg flex items-center justify-center shadow">
        <span>+</span>
      </button>
      <button (click)="recargarUsuarios()" class="bg-blue-500 hover:bg-blue-700 text-white rounded-lg px-3 py-1 text-lg flex items-center justify-center shadow" title="Recargar usuarios">
        <svg viewBox="0 0 24 24" fill="none" class="w-5 h-5">
          <path d="M4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C9.25022 4 6.82447 5.38734 5.38451 7.50024M4 4V8H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </button>
      <input type="text" placeholder="Buscar..." class="border rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-400" />
    </div>
  </div>

  <!-- Tabla de usuarios -->
  <div class="bg-white p-4 shadow flex flex-nowrap">
    <table class="w-full table-auto text-sm text-center mt-4 border-separate border-spacing-x-0.5">
      <thead>
        <tr class="bg-[#82a8e6] text-blue-900 ">
          <th class="py-4">Nombre</th>
          <th class="py-4">Correo</th>
          <th class="py-4">Identificación</th>
          <th class="py-4">Estado</th>
          <th class="py-4">Última Actividad</th>
          <th class="py-4">Almacenamiento <br>total</th>
          <th class="py-4">Almacenamiento <br>usado</th>
          <th class="py-4">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <!-- Modificar cada fila de la tabla -->
        <tr
          *ngFor="let usuario of usuarios"
          [ngClass]="usuario.activo ? 'bg-slate-100 hover:bg-slate-200': 'bg-[#f5afa8] hover:bg-[#f0a99d]'"
          class="hover:cursor-pointer">
          <td class="py-2 border-r-2 whitespace-nowrap">{{ usuario.nombre }}</td>
          <td class="py-2 border-r-2 whitespace-nowrap">{{ usuario.correo }}</td>
          <td class="py-2 border-r-2 whitespace-nowrap">{{ usuario.identificacion }}</td>
          <td class="py-2 border-r-2 whitespace-nowrap">{{ usuario.estado }}</td>
          <td class="py-2 border-r-2 whitespace-nowrap">{{ usuario.ultimaActividad }}</td>
          <td class="py-2 border-r-2 whitespace-nowrap">{{ usuario.almacenamientoTotal }}</td>
          <td class="py-2 border-r-2 whitespace-nowrap">{{ usuario.almacenamientoUsado }}</td>
          <td class="flex justify-center py-2 gap-2">
            <button  command="show-modal" commandfor="editarUsuario"  class="bg-blue-500 hover:bg-blue-600 text-white rounded p-1" title="Editar">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path d="M15.232 5.232l3.536 3.536M9 13l6.232-6.232a2 2 0 112.828 2.828L11.828 15.828a2 2 0 01-2.828 0L9 13z" />
              </svg>
            </button>
            <button command="show-modal" commandfor="anularCuenta"  class="bg-red-600 hover:bg-red-700 text-white rounded p-1" title="Bloquear">
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 14C7.13401 14 4 17.134 4 21H11M14.8086 19.7053L19.127 16.3467M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7ZM20 18C20 19.6569 18.6569 21 17 21C15.3431 21 14 19.6569 14 18C14 16.3431 15.3431 15 17 15C18.6569 15 20 16.3431 20 18Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <button class="bg-cyan-500 hover:bg-cyan-600 text-white rounded p-1" title="Monitorear">
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 22C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 18.7712 2 15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M22 15C22 18.7712 22 19.6569 20.8284 20.8284C19.6569 22 17.7712 22 14 22" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M14 2C17.7712 2 19.6569 2 20.8284 3.17157C22 4.34315 22 5.22876 22 9" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M10 2C6.22876 2 4.34315 2 3.17157 3.17157C2 4.34315 2 5.22876 2 9" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M5.89243 14.0598C5.29748 13.3697 5 13.0246 5 12C5 10.9754 5.29747 10.6303 5.89242 9.94021C7.08037 8.56222 9.07268 7 12 7C14.9273 7 16.9196 8.56222 18.1076 9.94021C18.7025 10.6303 19 10.9754 19 12C19 13.0246 18.7025 13.3697 18.1076 14.0598C16.9196 15.4378 14.9273 17 12 17C9.07268 17 7.08038 15.4378 5.89243 14.0598Z" stroke="#ffffff" stroke-width="1.5"></path>
                <circle cx="12" cy="12" r="2" stroke="#ffffff" stroke-width="1.5"></circle>
              </svg>
            </button>
          </td>
        </tr>
        <!-- Inactivo
        <tr class="bg-[#f5afa8] hover:bg-[#e08b7e]">
          <td class="px-2 md:px-6 py-2 font-semibold border-r-2 whitespace-nowrap">Matilda Quispe</td>
          <td class="px-2 md:px-6 py-2 border-r-2 whitespace-nowrap hidden sm:table-cell">mati3&#64;gmail.com</td>
          <td class="px-2 md:px-6 py-2 border-r-2 whitespace-nowrap hidden md:table-cell">12345678</td>
          <td class="px-2 md:px-6 py-2 border-r-2 whitespace-nowrap">Inactivo</td>
          <td class="px-2 md:px-6 py-2 border-r-2 whitespace-nowrap hidden lg:table-cell">20/06/25, 17:45</td>
          <td class="px-2 md:px-6 py-2 border-r-2 whitespace-nowrap">10.00 GB</td>
          <td class="px-2 md:px-6 py-2 border-r-2 whitespace-nowrap">3.00 GB</td>
          <td class="flex justify-center py-2 gap-2">
            <button class="bg-blue-500 hover:bg-blue-600 text-white rounded p-1" title="Editar">
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path d="M15.232 5.232l3.536 3.536M9 13l6.232-6.232a2 2 0 112.828 2.828L11.828 15.828a2 2 0 01-2.828 0L9 13z" />
              </svg>
            </button>
            <button command="show-modal" commandfor="anularCuenta" class="bg-red-600 hover:bg-red-700 text-white rounded p-1" title="Bloquear">
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11 14C7.13401 14 4 17.134 4 21H11M14.8086 19.7053L19.127 16.3467M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7ZM20 18C20 19.6569 18.6569 21 17 21C15.3431 21 14 19.6569 14 18C14 16.3431 15.3431 15 17 15C18.6569 15 20 16.3431 20 18Z" stroke="#ffffff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
            <button class="bg-cyan-500 hover:bg-cyan-600 text-white rounded p-1" title="Monitorear">
              <svg class="w-5 h-5" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 22C6.22876 22 4.34315 22 3.17157 20.8284C2 19.6569 2 18.7712 2 15" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M22 15C22 18.7712 22 19.6569 20.8284 20.8284C19.6569 22 17.7712 22 14 22" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M14 2C17.7712 2 19.6569 2 20.8284 3.17157C22 4.34315 22 5.22876 22 9" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M10 2C6.22876 2 4.34315 2 3.17157 3.17157C2 4.34315 2 5.22876 2 9" stroke="#ffffff" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M5.89243 14.0598C5.29748 13.3697 5 13.0246 5 12C5 10.9754 5.29747 10.6303 5.89242 9.94021C7.08037 8.56222 9.07268 7 12 7C14.9273 7 16.9196 8.56222 18.1076 9.94021C18.7025 10.6303 19 10.9754 19 12C19 13.0246 18.7025 13.3697 18.1076 14.0598C16.9196 15.4378 14.9273 17 12 17C9.07268 17 7.08038 15.4378 5.89243 14.0598Z" stroke="#ffffff" stroke-width="1.5"></path>
                <circle cx="12" cy="12" r="2" stroke="#ffffff" stroke-width="1.5"></circle>
              </svg>
            </button>
          </td>
        </tr>-->
      </tbody>
    </table>
  </div>

  <!-- Paginación -->
  <div class="flex justify-center mt-6">
    <nav class="inline-flex rounded-md shadow-sm text-sm">
      <button class="px-3 py-1 border border-gray-300 bg-white hover:bg-blue-100"> &lt; </button>
      <button class="px-3 py-1 border-t border-b border-gray-300 bg-white hover:bg-blue-100">1</button>
      <button class="px-3 py-1 border-t border-b border-gray-300 bg-white hover:bg-blue-100">2</button>
      <button class="px-3 py-1 border-t border-b border-gray-300 bg-blue-200 font-bold text-blue-900">3</button>
      <button class="px-3 py-1 border-t border-b border-gray-300 bg-white hover:bg-blue-100">4</button>
      <span class="px-3 py-1 border-t border-b border-gray-300 bg-white">...</span>
      <button class="px-3 py-1 border-t border-b border-gray-300 bg-white hover:bg-blue-100">10</button>
      <button class="px-3 py-1 border border-gray-300 bg-white hover:bg-blue-100"> &gt; </button>
    </nav>
  </div>

</main>

<app-user></app-user>
