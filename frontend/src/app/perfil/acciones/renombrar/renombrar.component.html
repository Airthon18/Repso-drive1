<!-- Backdrop -->
<div
  *ngIf="open"
  class="fixed inset-0 z-[100000] flex items-center justify-center"
  (click)="doCancel()"
>
  <div class="absolute inset-0 bg-black/30"></div>

  <!-- Dialog -->
  <div
    class="relative z-[100001] bg-white rounded-xl shadow-xl w-[360px] max-w-[92vw] border border-gray-200"
    role="dialog"
    aria-modal="true"
    aria-labelledby="renameTitle"
    (click)="$event.stopPropagation()"
  >
    <!-- header -->
    <div class="px-4 pt-4 pb-3 border-b border-gray-100 flex items-center gap-2">
      <svg class="w-5 h-5 text-gray-700" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
        <path d="M4 4h7l3 3h6v13a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z"/>
      </svg>
      <span id="renameTitle" class="font-semibold text-gray-900">Renombrar</span>
    </div>

    <!-- body -->
    <div class="px-4 py-3">
      <label for="renameInput" class="sr-only">Nuevo nombre</label>
      <input
        id="renameInput"
        type="text"
        [(ngModel)]="renameValue"
        (keydown.enter)="doConfirm()"
        class="w-full h-10 px-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="Escribe el nuevo nombre"
        autocomplete="off"
      />
    </div>

    <!-- footer -->
    <div class="px-4 pb-4 flex items-center justify-end gap-2">
      <button
        type="button"
        class="px-3 h-9 rounded-lg bg-gray-100 text-gray-800 hover:bg-gray-200 text-sm"
        (click)="doCancel()"
      >
        Cancel
      </button>
      <button
        type="button"
        class="px-3 h-9 rounded-lg bg-blue-600 text-white hover:bg-blue-700 text-sm disabled:opacity-50"
        [disabled]="!(renameValue && renameValue.trim())"
        (click)="doConfirm()"
      >
        ok
      </button>
    </div>
  </div>
</div>
